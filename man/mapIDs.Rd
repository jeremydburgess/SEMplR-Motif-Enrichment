% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mapIDs.R
\name{mapIDs}
\alias{mapIDs}
\title{Map User IDs to Entrez and Determine Best Keytype}
\usage{
mapIDs(
  foreground_ids,
  background_ids = NULL,
  id_type = "auto",
  mapping,
  threshold = 0.9,
  transcript = FALSE,
  stripVersions = TRUE,
  inflateThresh = 1
)
}
\arguments{
\item{foreground_ids}{Character vector of input IDs (e.g. ENSG, ENST, NM_*)}

\item{mapping}{A list from \code{buildMappingObject()}, containing:
\itemize{
\item \code{so_obj}: the \code{src_organism} object
\item \code{orgdb}:  the loaded OrgDb package object
\item \code{organism}, \code{genomeBuild}, \code{txdb}: parameters used
}}

\item{threshold}{Fraction in \link{0,1}; minimum mapping rate to accept a
keytype without falling back (default 0.9).}

\item{transcript}{Logical; if \code{TRUE}, analyze as transcript‐level IDs
(default \code{FALSE}).}

\item{stripVersions}{Logical; strip trailing “.1”, “.2” from IDs (default \code{TRUE}).}

\item{inflateThresh}{Fraction in \link{0,1}; if reverse‐mapping shows excessive inflation,
automatically collapse transcripts to genes (default 1 ie. 100\%).}
}
\value{
A named list combining the original \code{mapping} components with:
\describe{
\item{\code{fg_ids}}{data.frame(entrez, mappedID) for your foreground set}
\item{\code{bg_ids}}{data.frame(entrez, mappedID) for the full background}
\item{\code{userIDtype}}{the chosen keytype (e.g. "ensembl")}
\item{\code{transcript}}{logical, whether transcript‐level mapping was used}
}
}
\description{
Given a vector of user-supplied gene/transcript IDs, finds the AnnotationDbi
keytype (e.g. ens, refseq, symbol, etc.) that maps the highest fraction of
inputs, and returns both foreground and full background sets as Entrez IDs.
Optionally collapses transcript‐style inputs to genes when requested or when
reverse‐mapping inflation exceeds a threshold.
}
\examples{
\dontrun{
  mapping <- buildMappingObject("Homo sapiens")
  out     <- mapIDs(
    foreground_ids = c("ENSG00000139618","ENSG00000157764"),
    mapping        = mapping
  )
  str(out)
}

}
\keyword{internal}
